<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Akamai Component Examples - Wizard</title>
    <link rel="stylesheet" href="../dist/akamai-core.css">

    <style>
        div h2:first-child {
            margin-bottom:10px;
        }
        body.luna > h1 {
            margin-bottom:20px;
        }

        body.luna > div > span {
            display: inline-block;
            width: 180px;
        }
    </style>
</head>

<body class="common-css luna" ng-app="wizardApp" ng-strict-di ng-controller="WizardAppController as vm">

    <script type="text/ng-template" id="step1">
        <i class="luna-contextural_help"></i>
        <p>
            Cupcake ipsum dolor sit. Amet caramels chocolate cake toffee. Cheesecake topping
            jujubes. Sweet roll cotton candy sweet roll lollipop pie ice cream. Icing liquorice
            cotton candy apple pie cookie powder marshmallow topping dragée. Liquorice fruitcake
            cotton candy toffee jelly-o jelly bonbon marshmallow jelly-o. Tart toffee brownie
            muffin liquorice. Jelly beans marzipan carrot cake caramels cake. Soufflé sugar plum
            ice cream tiramisu carrot cake marshmallow. Jelly beans lollipop wafer marshmallow
            liquorice dessert gingerbread cake topping. Fruitcake pudding croissant. Dessert donut
            ice cream biscuit bear claw jujubes.
        </p>
        <p>
            Danish bear claw macaroon cake sesame snaps pie. Icing apple pie cookie topping
            chocolate cake. Pudding cheesecake chocolate cake tootsie roll candy. Lollipop chupa
            chups jelly-o icing chocolate ice cream chocolate lollipop. Donut cotton candy
            chocolate bar carrot cake macaroon powder cotton candy marshmallow. Marzipan sweet
            croissant candy canes cupcake apple pie cake gingerbread gummies. Wafer cheesecake
            chocolate cake macaroon biscuit muffin chocolate bar chocolate bar. Powder sweet cake.
            Muffin tart jelly-o lemon drops cake pie lemon drops icing.
            <i class="luna-calendar"></i>
        </p>
        <p>
            Cupcake ipsum dolor sit. Amet caramels chocolate cake toffee. Cheesecake topping
            jujubes. Sweet roll cotton candy sweet roll lollipop pie ice cream. Icing liquorice
            cotton candy apple pie cookie powder marshmallow topping dragée. Liquorice fruitcake
            cotton candy toffee jelly-o jelly bonbon marshmallow jelly-o. Tart toffee brownie
            muffin liquorice. Jelly beans marzipan carrot cake caramels cake. Soufflé sugar plum
            ice cream tiramisu carrot cake marshmallow. Jelly beans lollipop wafer marshmallow
            liquorice dessert gingerbread cake topping. Fruitcake pudding croissant. Dessert donut
            ice cream biscuit bear claw jujubes.
        </p>
        <p>
            Danish bear claw macaroon cake sesame snaps pie. Icing apple pie cookie topping
            chocolate cake. Pudding cheesecake chocolate cake tootsie roll candy. Lollipop chupa
            chups jelly-o icing chocolate ice cream chocolate lollipop. Donut cotton candy
            chocolate bar carrot cake macaroon powder cotton candy marshmallow. Marzipan sweet
            croissant candy canes cupcake apple pie cake gingerbread gummies. Wafer cheesecake
            chocolate cake macaroon biscuit muffin chocolate bar chocolate bar. Powder sweet cake.
            Muffin tart jelly-o lemon drops cake pie lemon drops icing.
            <i class="luna-calendar"></i>
        </p>

    </script>
    <script type="text/ng-template" id="step2">
        <p>
            Cupcake ipsum dolor sit amet biscuit tiramisu. Fruitcake oat cake cake sweet bonbon
            candy canes. Chocolate soufflé dessert topping croissant jujubes. Wafer cake
            marshmallow candy canes. Croissant donut ice cream toffee fruitcake oat cake apple pie
            cupcake toffee. Sweet tart lemon drops gummi bears candy canes cheesecake donut tart
            gummies. Fruitcake pastry gummi bears marshmallow. Oat cake tiramisu danish soufflé
            muffin pie donut sweet roll. Sweet sesame snaps jujubes jujubes wafer sweet. Candy
            canes pudding marzipan apple pie cookie. Toffee candy chocolate candy canes. Dragée
            wafer caramels wafer chocolate carrot cake chocolate dessert.
            <akam-indeterminate-progress completed="{{completed}}"></akam-indeterminate-progress>
        </p>
        <input type="checkbox" ng-model="completed" id="completed"><label for="completed">Clear Spinner</label>
        <p>
            Sweet ice cream biscuit pie. Danish cupcake marshmallow tiramisu caramels lemon drops
            pudding. Fruitcake cupcake tootsie roll wafer cotton candy topping tiramisu jujubes.
            Bear claw wafer chocolate cake danish sesame snaps cake lemon drops soufflé pudding.
            Liquorice pastry cheesecake. Muffin marzipan jelly beans. Sugar plum cupcake croissant
            sweet roll. Sweet chupa chups jelly-o lollipop sesame snaps. Lemon drops sugar plum
            toffee brownie gingerbread. Brownie wafer sweet roll muffin carrot cake carrot cake
            macaroon dessert gummies. Sugar plum bonbon tart chupa chups cheesecake.
        </p>
    </script>
    <script type="text/ng-template" id="step3">
        <p>
            Enter your username: <input type="text" id="user" ng-model="user"> (minimum 3 characters)
            <hr />
        </p>
        <br />
        <br />
        <b>Example of table in a wizard.</b>
        <br />
        <akam-table items="arrayData" akam-standalone>
          <akam-table-row>
            <akam-table-column row-property="id" header-name="examples.id"></akam-table-column>
            <akam-table-column row-property="firstName" header-name="examples.name"></akam-table-column>
            <akam-table-column row-property="lastName" default-sort header-name="examples.lastname"></akam-table-column>
            <akam-table-column row-property="country" header-name="examples.country"></akam-table-column>
          </akam-table-row>
        </akam-table>
    </script>
    <script type="text/ng-template" id="step4">
        <p>
            Cupcake ipsum dolor sit amet wafer. Soufflé pie danish. Pie cheesecake ice cream
            gingerbread. Macaroon chupa chups cake croissant muffin. Pudding brownie soufflé
            jujubes oat cake. Lollipop cotton candy gummies fruitcake biscuit biscuit chocolate.
            Biscuit pastry cotton candy sesame snaps pastry ice cream tiramisu cupcake jelly-o.
            Soufflé icing dragée carrot cake. Jelly-o dessert chocolate cake sesame snaps chocolate
            liquorice halvah macaroon bear claw. Pudding cupcake wafer sesame snaps oat cake halvah
            jelly beans donut topping. Marshmallow pudding jujubes tootsie roll. Danish chocolate
            cake fruitcake. Bear claw apple pie sesame snaps cake sugar plum.
            <br />
            <br />
            <b>Example of dropdown in a wizard.  Choose a value to continue on:</b>
            <br />
             <akam-dropdown ng-model="selectedState" clearable
                items="[
                'Colorado',
                'Connecticut',
                'Maryland',
                'Massachusetts',
                'New Hampshire',
                'New Jersey',
                'New York',
                'Vermont',
                'Virginia',
                'Washington, District of Columbia']" ></akam-dropdown>
        </p>
        <br />
        <br />
        <p>
            Danish gummi bears chupa chups gummies caramels liquorice jelly beans jujubes. Cotton
            candy gummi bears jelly jelly-o toffee cheesecake. Lemon drops wafer soufflé gummies
            toffee apple pie. Biscuit toffee cake toffee ice cream sweet roll soufflé. Soufflé
            biscuit cookie liquorice sweet roll sweet roll tiramisu cookie soufflé. Cheesecake
            tart fruitcake sugar plum muffin gummies. Muffin cotton candy bonbon sweet roll
            brownie. Carrot cake apple pie caramels candy sesame snaps. Jelly beans marshmallow
            pie gummi bears chocolate cake wafer dessert lemon drops wafer. Marshmallow cupcake
            candy canes gummies chocolate chocolate cake brownie bear claw carrot cake.
        </p>
    </script>

    <h1>Wizard Component examples</h1>

    <div ng-click="vm.launchWizard()" style="cursor:pointer;">
        Launch Wizard
    </div>
    <br/>

    <script src="utils/cookies.js"></script>
    <script src="../dist/akamai-core.js"></script>

    <script>
        angular.module('wizardApp', ['akamai.components.constants','akamai.components.table', 'akamai.components.wizard', 'akamai.components.dropdown',
                                     'akamai.components.menu-button', 'akamai.components.indeterminate-progress'])
                .controller('WizardAppController', WizardAppController)
                .config(configFunction);

        WizardAppController.$inject = ['$log', '$modal', 'wizard', '$rootScope', '$q', '$timeout', '$translate'];
        function WizardAppController($log, $modal, wizard, $rootScope, $q, $timeout, $translate) {
            var vm = this;
            var wizardScope = $rootScope.$new();
            var times = 0;
            wizardScope.arrayData = [
                {id: 1, firstName: 'Norma', lastName: 'White', email: 'nwhite0@japanpost.jp', country: 'China', ipAddress: '131.46.59.162', boolean: true, color: 'Yellow'},
                {id: 2, firstName: 'Amanda', lastName: 'Martin', email: 'amartin1@unesco.org', country: 'Haiti', ipAddress: '249.90.111.115', boolean: false, color: 'Blue'},
                {id: 3, firstName: 'Gloria', lastName: 'Allen', email: 'gallen2@reuters.com', country: 'Micronesia', ipAddress: '233.173.83.45', boolean: false, color: 'Yellow'},
                {id: 4, firstName: 'Bobby', lastName: 'Montgomery', email: 'bmontgomery3@msn.com', country: 'Gabon', ipAddress: '16.173.58.169', boolean: true, color: 'Blue'},
                {id: 5, firstName: 'Charles', lastName: 'Reyes', email: 'creyes4@cbsnews.com', country: 'Spain', ipAddress: '136.197.92.192', boolean: true, color: 'Red'}
            ];

            function deferredProcess(rejectReason) {
                var deferral = $q.defer();

                $timeout(function() {
                    if (times % 2 === 0) {
                        deferral.reject(rejectReason);
                        times++;
                    } else {
                        deferral.resolve();
                        times = 0;
                    }
                }, 1000);

                return deferral.promise;
            }

            WizardController.$inject = ['$scope', '$log'];
            function WizardController($scope, $log) {
                
            
                $scope.setOnSubmit(function() {
                    return deferredProcess();
                });
            };

            vm.launchWizard = function() {
       
                wizard.open({
                    scope: wizardScope,
                    controller: WizardController,
                    title: 'Wizard Example',
                    steps: [
                        {
                            // Example of translated text for the wizard steps
                            name: $translate.instant('examples.wizard.step1'),
                            templateId: 'step1',
                            validate: function(scope) {
                                return true;
                            },
                        },
                        {
                            name: $translate.instant('examples.wizard.step2'),
                            templateId: 'step2',
                            validate: function(scope) {
                                return true;
                            },
                            initialize: angular.bind(this, deferredProcess, "Step 2 failed to initialize.")
                        },
                        {
                            name: $translate.instant('examples.wizard.step3'),
                            templateId: 'step3',
                            validate: function(scope) {
                                return scope.user != null && scope.user.length > 2;
                            },
                            initialize: angular.bind(this, deferredProcess, "Step 3 failed to initialize.")
                        },
                        {
                            name: $translate.instant('examples.wizard.step4'),
                            templateId: 'step4',
                    
                            validate: function(scope) {
                                return scope.selectedState !=null;
                            },
                            initialize: angular.bind(this, deferredProcess, "Step 4 failed to initialize.")
                        },
                        {
                            name: $translate.instant('examples.wizard.step5'),
                            templateId: 'step2',
                            validate: function(scope) {
                                return true;
                            },
                            initialize: angular.bind(this, deferredProcess, "Step 5 failed to initialize.")
                        }
                    ]
                });
            };
        }

        function configFunction($translatePartialLoaderProvider, VERSION, $translateProvider,
                                i18nLocaleProvider) {

            // need to overwrite locales path on fee.akamai.com
            if (window.location.host == 'fee.akamai.com') {
                $translatePartialLoaderProvider.addPart('../dist/locales/');
                $translatePartialLoaderProvider.addPart('locales/json/messages/');
            } else {
                $translatePartialLoaderProvider.addPart('/libs/akamai-core/'+VERSION+'/locales/');
                $translatePartialLoaderProvider.addPart('/apps/akamai-core-examples/locales/');
            }

            var locale = docCookies.getItem('AKALOCALE') || 'en_US';

            $translateProvider.preferredLanguage(locale);
            i18nLocaleProvider.setLocale(locale);
        }
        configFunction.$inject = ['$translatePartialLoaderProvider', 'AKAMAI_CORE_VERSION',
            '$translateProvider', 'i18nLocaleProvider'];

    </script>

</body>
</html>