<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Akamai Component Examples - Wizard</title>
    <link rel="stylesheet" href="../dist/akamai-core.css">

    <style>
        div h2:first-child {
            margin-bottom:10px;
        }
        body.luna > h1 {
            margin-bottom:20px;
        }

        body.luna > div > span {
            display: inline-block;
            width: 180px;
        }
    </style>
</head>

<body class="common-css luna" ng-app="wizardApp" ng-strict-di ng-controller="WizardAppController as vm">

    <script type="text/ng-template" id="step1">
        <p>
            Cupcake ipsum dolor sit. Amet caramels chocolate cake toffee. Cheesecake topping
            jujubes. Sweet roll cotton candy sweet roll lollipop pie ice cream. Icing liquorice
            cotton candy apple pie cookie powder marshmallow topping dragée. Liquorice fruitcake
            cotton candy toffee jelly-o jelly bonbon marshmallow jelly-o. Tart toffee brownie
            muffin liquorice. Jelly beans marzipan carrot cake caramels cake. Soufflé sugar plum
            ice cream tiramisu carrot cake marshmallow. Jelly beans lollipop wafer marshmallow
            liquorice dessert gingerbread cake topping. Fruitcake pudding croissant. Dessert donut
            ice cream biscuit bear claw jujubes.
        </p>
        <p>
            Danish bear claw macaroon cake sesame snaps pie. Icing apple pie cookie topping
            chocolate cake. Pudding cheesecake chocolate cake tootsie roll candy. Lollipop chupa
            chups jelly-o icing chocolate ice cream chocolate lollipop. Donut cotton candy
            chocolate bar carrot cake macaroon powder cotton candy marshmallow. Marzipan sweet
            croissant candy canes cupcake apple pie cake gingerbread gummies. Wafer cheesecake
            chocolate cake macaroon biscuit muffin chocolate bar chocolate bar. Powder sweet cake.
            Muffin tart jelly-o lemon drops cake pie lemon drops icing.
        </p>
    </script>
    <script type="text/ng-template" id="step2">
        <p>
            Cupcake ipsum dolor sit amet biscuit tiramisu. Fruitcake oat cake cake sweet bonbon
            candy canes. Chocolate soufflé dessert topping croissant jujubes. Wafer cake
            marshmallow candy canes. Croissant donut ice cream toffee fruitcake oat cake apple pie
            cupcake toffee. Sweet tart lemon drops gummi bears candy canes cheesecake donut tart
            gummies. Fruitcake pastry gummi bears marshmallow. Oat cake tiramisu danish soufflé
            muffin pie donut sweet roll. Sweet sesame snaps jujubes jujubes wafer sweet. Candy
            canes pudding marzipan apple pie cookie. Toffee candy chocolate candy canes. Dragée
            wafer caramels wafer chocolate carrot cake chocolate dessert.
        </p>
        <p>
            Sweet ice cream biscuit pie. Danish cupcake marshmallow tiramisu caramels lemon drops
            pudding. Fruitcake cupcake tootsie roll wafer cotton candy topping tiramisu jujubes.
            Bear claw wafer chocolate cake danish sesame snaps cake lemon drops soufflé pudding.
            Liquorice pastry cheesecake. Muffin marzipan jelly beans. Sugar plum cupcake croissant
            sweet roll. Sweet chupa chups jelly-o lollipop sesame snaps. Lemon drops sugar plum
            toffee brownie gingerbread. Brownie wafer sweet roll muffin carrot cake carrot cake
            macaroon dessert gummies. Sugar plum bonbon tart chupa chups cheesecake.

        </p>
    </script>
    <script type="text/ng-template" id="step3">
        <p>
            Cupcake ipsum dolor sit amet. Jelly beans wafer biscuit jelly cheesecake apple pie
            macaroon croissant. Marshmallow gummi bears cake tootsie roll tart. Pudding donut donut
            lollipop halvah lemon drops. Tiramisu sugar plum lemon drops. Biscuit dragée tootsie
            roll liquorice macaroon soufflé cupcake. Biscuit bonbon soufflé liquorice bonbon.
            Toffee danish bonbon cotton candy. Dessert fruitcake dragée wafer. Brownie sesame snaps
            jujubes cheesecake brownie. Sesame snaps fruitcake pie tart gummi bears tiramisu
            cupcake chupa chups liquorice. Tootsie roll jujubes sesame snaps dragée.
        </p>
        <p>
            Marzipan macaroon jujubes cake fruitcake caramels gummies. Wafer sesame snaps muffin
            jelly pastry biscuit chocolate bar candy canes biscuit. Tiramisu jelly gummi bears
            tootsie roll marshmallow pie biscuit apple pie dessert. Donut marshmallow ice cream.
            Macaroon sweet roll jelly beans cookie cake cotton candy macaroon soufflé. Jelly-o
            gingerbread chocolate chocolate cake jelly beans donut. Jelly beans jelly chupa chups
            topping macaroon candy canes. Gummies danish sweet wafer marzipan liquorice dessert.
            Cheesecake marzipan pudding dessert marshmallow cupcake. Toffee topping toffee
            croissant cheesecake brownie cotton candy toffee dragée. Gummi bears pastry marzipan
            gingerbread. Bonbon cotton candy jelly beans chocolate bar brownie brownie sesame snaps
            sesame snaps cupcake.
        </p>
    </script>
    <script type="text/ng-template" id="step4">
        <p>
            Cupcake ipsum dolor sit amet wafer. Soufflé pie danish. Pie cheesecake ice cream
            gingerbread. Macaroon chupa chups cake croissant muffin. Pudding brownie soufflé
            jujubes oat cake. Lollipop cotton candy gummies fruitcake biscuit biscuit chocolate.
            Biscuit pastry cotton candy sesame snaps pastry ice cream tiramisu cupcake jelly-o.
            Soufflé icing dragée carrot cake. Jelly-o dessert chocolate cake sesame snaps chocolate
            liquorice halvah macaroon bear claw. Pudding cupcake wafer sesame snaps oat cake halvah
            jelly beans donut topping. Marshmallow pudding jujubes tootsie roll. Danish chocolate
            cake fruitcake. Bear claw apple pie sesame snaps cake sugar plum.
        </p>
        <p>
            Danish gummi bears chupa chups gummies caramels liquorice jelly beans jujubes. Cotton
            candy gummi bears jelly jelly-o toffee cheesecake. Lemon drops wafer soufflé gummies
            toffee apple pie. Biscuit toffee cake toffee ice cream sweet roll soufflé. Soufflé
            biscuit cookie liquorice sweet roll sweet roll tiramisu cookie soufflé. Cheesecake
            tart fruitcake sugar plum muffin gummies. Muffin cotton candy bonbon sweet roll
            brownie. Carrot cake apple pie caramels candy sesame snaps. Jelly beans marshmallow
            pie gummi bears chocolate cake wafer dessert lemon drops wafer. Marshmallow cupcake
            candy canes gummies chocolate chocolate cake brownie bear claw carrot cake.
        </p>
    </script>

    <h1>Wizard Component examples</h1>

    <div ng-click="vm.launchWizard()" style="cursor:pointer;">
        Launch wizard
    </div>
    <br/>

    <script src="../dist/akamai-core.js"></script>

    <script>
        angular.module('wizardApp', ['akamai.components.wizard'])
                .controller('WizardAppController', WizardAppController)
                .config(configFunction);


        WizardAppController.$inject = ['$log', '$modal', 'wizard', '$rootScope', '$q', '$timeout'];
        function WizardAppController($log, $modal, wizard, $rootScope, $q, $timeout) {
            var vm = this;
            var wizardScope = $rootScope.$new();
            var times = 0;

            WizardController.$inject = ['$scope', '$log'];
            function WizardController($scope, $log) {
                if (angular.isFunction($scope.setOnSubmit)) {
                    $scope.setOnSubmit(function(){
                        var deferral = $q.defer();
                        $timeout(function() {
                            if (times % 2 === 0) {
                                deferral.reject();
                            } else{
                                deferral.resolve();
                            }

                            times++;
                        }, 1000);
                        return deferral.promise;
                    });
                }
            };

            vm.launchWizard = function() {
                wizard.open({
                    scope: wizardScope,
                    controller: WizardController,
                    title: 'Wizard Example',
                    successMessage: 'Success Message',
                    errorMessage: 'Error Message',
                    steps: [
                        {
                            name: 'Step 1',
                            templateId: 'step1',
                            validate: function(scope) {
                                return true;
                            }
                        },
                        {
                            name: 'Step 2',
                            templateId: 'step2',
                            validate: function(scope) {
                                return true;
                            }

                        },
                        {
                            name: 'Step 3',
                            templateId: 'step3',
                            validate: function(scope) {
                                return true;
                            }
                        },
                        {
                            name: 'Step 4',
                            templateId: 'step4',
                            validate: function(scope) {
                                return true;
                            }

                        },
                        {
                            name: 'Steppppppp 5!',
                            templateId: 'step4',
                            validate: function(scope) {
                                return true;
                            }

                        }
                    ]
                });
            };
        }

        configFunction.$inject = ['i18nTokenProvider'];
        function configFunction (i18nTokenProvider) {
            // need to overwrite locales path on fee.akamai.com
            if(window.location.host == 'fee.akamai.com') {
                i18nTokenProvider.setComponentLocalePath("../dist/locales/");
                i18nTokenProvider.setAppLocalePath("locales/json/messages/");
            }
        }

    </script>

</body>
</html>