<!DOCTYPE html>
<html>

<head>
    <link href="../../../node_modules/pulsar-common-css/dist/styles.css" rel="stylesheet" />
    <script src="../../../node_modules/angular/angular.js"></script>
    <script src="../../../node_modules/angular-route/angular-route.js"></script>
    <script src="../../../node_modules/angular-translate/dist//angular-translate.js"></script>
    <script type="text/javascript" src="../../../dist/akamai-components.js"></script>

    <script>
    //emulate the Billing Center app.js code
    var locale = window.billingCenterLocale = "en_US";
    var appLocalePath = window.billingCenterLocalePath = "../../locales/json/messages/";

    var app = angular.module("i18nDemo3", ["akamai.components.i18n"]);

    //just
    app.config(function(i18nTokenProvider) {

        //set up the i18n component locale and locale file to load
        i18nTokenProvider.useLocale(locale);
        i18nTokenProvider.usePathAndPart(appLocalePath, "messages_");

    });

    app.controller("TranslationPageController", ["$scope", "$translate", "$rootScope", "$timeout", function($scope, $translate, $rootScope, $timeout) {
        $rootScope.$on('$translateChangeSuccess', function() {
            $timeout(function() {
                console.log($translate.instant('billing-center.no-access'));
                console.log($translate.instant('components.error.invalid-json', {
                    name: "Bubblehelp component"
                }));
            })
        })
    }]);
    </script>

    <body ng-app="i18nDemo3" ng-controller="TranslationPageController" class="common-css" style="margin:30px;" translate-cloak>
        <div>
            <h2>Display app and component translated text using directive and filter</h2>
            <hr>
            <h4>1. Check with console for javascript translations</h4>
            <h4>2. Using directive</h4>
            <div>
                <span translate>billing-center.no-access</span>
                <span><b>(key/value obtained from app locale json file)</b></span>
            </div>
            <div>
                <span translate>components.error.invalid-json</span>
                <span><b>(key/value obtained from component locale json file)</b></span>
            </div>
            <br/>
            <h4>3. Using filter</h4>
            <div>
                <div>
                    <span>{{'billing-center.no-access' | translate}}</span>
                </div>
                <div>
                    <span>{{'components.error.invalid-json' | translate}}</span>
                </div>
            </div>
        </div>

    </body>

</html>
